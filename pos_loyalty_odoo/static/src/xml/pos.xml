<?xml version="1.0" encoding="UTF-8"?>
	<templates id="pos_loyalty_odoo_template" inherit_id="point_of_sale.template" xml:space="preserve">

		<!-- ClientDetails -->
		<t t-extend="ClientDetails">
			<t t-jquery=".client-details-left" t-operation="append">
				<div class="client-detail">
					<span class='label'>DOB</span>
					<span> <t t-esc='partner.dob or "-"'/></span>
				</div>
				<div class="client-detail">
					<span class='label'>Gender</span>
					<span> <t t-esc='partner.gender  or "-"'/></span>
				</div>
			</t>
			<t t-jquery=".client-details-right" t-operation="append">
				<div class="client-detail">
					<span class='label'>Loyalty Points</span>
					<span> <t t-esc='partner.loyalty_points'/></span>
				</div>
			</t>
			<t t-jquery=".client-details-box" t-operation="after">
				<div class="loyalty" style="max-height: 200px;overflow: auto;border-bottom: solid 5px rgb(110,200,155);">
					<section>
						<table class='loyalty-list client-list' style="    max-height: 200px;font-size: 15px;width: 100%;margin-top: 10px;line-height: 35px;height: 150px !important;border: 1px solid #6dc89b;">
							<thead>
								<tr style="background-color: #fff;border-top: solid 5px rgb(110,200,155);">
									<th class="date">Date</th>
									<th class="order_id">Order</th>
									<th class="transaction_type">Transaction</th>
									<th class="points">Transaction Points</th>
									<th class="total_points">Global Points</th>
								</tr>
							</thead>
							<tbody class='loyalty-list-contents'>
							</tbody>
						</table>
					</section>
				</div>
			</t>
		</t>

		<t t-extend="ClientDetailsEdit">
			<t t-jquery=".client-details-left" t-operation="append">
				<div class='client-detail'>
					<span class='label'>DOB</span>
					<input class='detail client-dob' type="date"   name='dob'         t-att-value='partner.dob || ""' placeholder='DOB'></input>
				</div>
				<div class='client-detail'>
					<span class='label'>Gender</span>
					<!-- <input class='detail client-gender'   name='gender'         t-att-value='partner.gender || ""' placeholder='Gender'></input> -->
					<select class='detail client-gender needsclick' name='gender'>
						<option value="male">Male</option>
						<option value="female">Female</option>
						<option value="other">Other</option>
					</select>
				</div>
			</t>
		</t>

		<t t-name="LoayltyLine">
			<tr>
				<td  style="cursor: pointer;"><t t-esc='loyalty.date' /></td>
				<td style="cursor: pointer;"><t t-esc='loyalty.order_id[1]' /></td>
				<td style="cursor: pointer;"><t t-esc='loyalty.transaction_type' /></td>
				<td style="cursor: pointer;"><t t-esc='loyalty.points' /></td>
				<td style="cursor: pointer;"><t t-esc='loyalty.total_points' /></td>
			</tr>
		</t>


	 	<!-- ClientListScreenWidget -->
		<t t-extend="ClientListScreenWidget">
			<t t-jquery="tr" t-operation="append">
				<th>DOB</th>
				<th>Gender</th>
				<th>Loyalty Points</th>
			</t>
		</t>

	  <!-- ClientLineWidget -->
		<t t-extend="ClientLine">
			<t t-jquery="tr.client-line" t-operation="append">
				<td class="text-center">
					<center><t t-esc='partner.dob  or "-"' /></center>
				</td>
				<td class="text-center">
					<center><t t-esc='partner.gender or "-"' /></center>
				</td>
				<td class="text-center">
					<center><t t-esc='partner.loyalty_points or "0"' /></center>
				</td>
			</t>
		</t>		   


	    <!-- GiftButtonWidget -->
	   
		<t t-name="LoyaltyButtonWidget" name="Redeem Loyalty Points" id="redeem">
			<t t-if="widget.pos.pos_loyalty_setting.length !== 0">
				<div class="control-button">
					<i class="fa fa-gift"></i>Redeem
				</div>
			</t>
		</t>

		<!-- LoyaltyPopupWidget -->     
		<t t-name="LoyaltyPopupWidget">
			<div class="modal-dialog">
				<div class="popup" style="height: 370px !important;">
					<p class="title" style="background-color: rgb(110,200,155); color: #fff;">Loyalty Redemption</p>
					<div class="body">
						<p  style="color: #0075AC;">Hello <b><t t-esc="widget.partner"/> !!! </b></p>
						<p  style="color: #0075AC;">You have : 
							<b style="margin: 0px 5px;"><t t-esc="widget.loyalty"/></b> Loyalty Point(s) 
						</p> 
						<p style="color: #0075AC;"> 
							You have : <b style="margin: 0px 5px;"><t t-esc="widget.vouchers"/></b> Voucher(s)
						</p>
						<p style="color: #0075AC;">Enter number of voucher to Redeem: </p>

						<input id ="entered_item_qty" type="text" placeholder="Enter number of voucher to redeem" class="input-field" name="code"></input>
					</div>
					<div class="footer" style="background-color: rgb(110,200,155); color: #fff;">
						<div class="button cancel" style="background-color: #0075AC; color: #fff;">
							Cancel 
						</div>
						<div class="button confirm" id="apply_redeem_now" style="background-color: #0075AC; color: #fff;">
							Reedem Now 
						</div>
					</div>
				</div>
			</div>
		</t>
	
		<!-- OrderWidget -->
		<t t-extend="OrderWidget">
			<t t-jquery=".summary" t-operation="after">
				<div class='items' style="display: none;padding-bottom: 10px; padding-left: 15px;padding-right: 15px;"><i><b style="font-weight: bold; color: #0075AC;font-size: 20px;"> + <span class="loyalty">0.00€</span> Loyalty Points. Total: <span class="value loyalty_value">0.00€</span></b></i></div>
			</t>
		</t>
		
		<t t-extend="PosTicket" >
			<t t-jquery="table[class*='receipt-change']" t-operation="after">
				<table class='receipt-change'>
					<t t-if="widget.pos.get_client()">
						<tr>
							<td>Earned Loyalty Points:</td>
							<td class="pos-right-align"><t t-esc="order.get_total_loyalty()"/></td>
						</tr>
						<tr>
							<td>Redeemed Loyalty Points:</td>
							<td class="pos-right-align"><t t-esc="order.get_redeemed_points()"/></td>
						</tr>
						<tr>
							<td>Total Loyalty Points:</td>
							<td class="pos-right-align"><t t-esc="widget.pos.get_client().loyalty_points + order.get_total_loyalty()"/></td>
						</tr>
					</t>
					
				</table>

			</t>
		</t>
		
	 
	
	</templates>
	
	
