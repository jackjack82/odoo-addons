<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_grape_lot_overview">
            <t t-call="report.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="report.external_layout">
                        <div class="page">
                            <div class="row">
                                <div class="col-xs-12">
                                    <h2><span t-field="o.name"/></h2>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Stato:  </strong>
                                    <span t-field="o.stage_id"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Vasca:  </strong>
                                    <span t-field="o.tank"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Quantità:  </strong>
                                    <span t-field="o.quantity"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <h3>Principali date</h3>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Data raccolta:  </strong>
                                    <span t-field="o.collection_date"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Data svinatura:  </strong>
                                    <span t-field="o.svination_date"/>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-xs-12">
                                    <strong>Data trasformazione:  </strong>
                                    <span t-field="o.transformation_date"/>
                                </div>
                            </div>


                            <!--Overview of Origins-->
                            <div class="row">
                                <div class="col-xs-12">
                                    <h3>Origini</h3>
                                </div>
                            </div>
                            <table class="table table-bordered">
                                <tr>
                                    <th>Prodotto</th>
                                    <th>Quantità</th>
                                </tr>
                                <t t-foreach="o.grape_origin_ids" t-as="f">
                                    <tr>
                                        <td><span t-field="f.product"/></td>
                                        <td><span t-field="f.quantity"/></td>
                                    </tr>
                                </t>
                            </table>

                            <!--Overview of Open Tasks-->
                            <div class="row">
                                <div class="col-xs-12">
                                    <h3>Aggiunte</h3>
                                </div>
                            </div>
                            <table class="table table-bordered">
                                <tr>
                                    <th>Nome</th>
                                    <th>Data</th>
                                    <th>Aggiunta</th>
                                    <th>Quantità</th>
                                    <th>Commento</th>
                                </tr>
                                <t t-foreach="o.wine_additions_ids" t-as="f">
                                    <tr>
                                        <td><span t-field="f.name"/> </td>
                                        <td><span t-field="f.date_exec"/></td>
                                        <td><span t-field="f.additive"/></td>
                                        <td><span t-field="f.quantity"/></td>
                                        <td><span t-field="f.comments"/></td>
                                    </tr>
                                </t>
                            </table>

                            <!-- Overview of Open Issues-->
                            <div class="row">
                                <div class="col-xs-12">
                                    <h3>Analisi</h3>
                                </div>
                            </div>
                            <table class="table table-bordered">
                                <tr>
                                    <th>Campione</th>
                                    <th>Data</th>

                                    <th>RD</th>
                                    <th>AlcDev</th>
                                    <th>Sug</th>
                                    <th>AlcDeg</th>
                                    <th>TotAc</th>
                                    <th>VolAc</th>
                                    <th>Sec</th>
                                    <th>EsNoRid</th>
                                    <th>Cen</th>
                                    <th>Clor</th>
                                    <th>Solf</th>
                                    <th>AnSolTot</th>
                                    <th>Sovrapp</th>
                                </tr>
                                <t t-foreach="o.wine_analysis_ids" t-as="f">
                                    <tr>
                                        <td> <span t-field="f.prod_sample"/> </td>
                                        <td> <span t-field="f.sampling_date"/> </td>
                                        <td> <span t-field="f.relative_density"/> </td>
                                        <td> <span t-field="f.alcohol_devel"/> </td>
                                        <td> <span t-field="f.sugars"/> </td>
                                        <td> <span t-field="f.alcohol_degree"/> </td>
                                        <td> <span t-field="f.tot_acidity"/> </td>
                                        <td> <span t-field="f.volat_acidity"/> </td>
                                        <td> <span t-field="f.tot_dry"/> </td>
                                        <td> <span t-field="f.extr_no_sugar"/> </td>
                                        <td> <span t-field="f.tot_ashes"/> </td>
                                        <td> <span t-field="f.chlorides"/> </td>
                                        <td> <span t-field="f.sulphates"/> </td>
                                        <td> <span t-field="f.tot_sulph_diox"/> </td>
                                        <td> <span t-field="f.overpressure"/> </td>

                                    </tr>
                                </t>
                            </table>
                       </div>
                    </t>
                </t>
            </t>
        </template>

    </data>
</odoo>
